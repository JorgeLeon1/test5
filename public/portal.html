<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Warehouse Dashboard | 3PL</title>

  <!-- Google Fonts & FontAwesome -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --dark-blue:#1c3d57;
      --light-gray:#f4f4f4;
      --text-dark:#333;
      --card-bg:#fff;
      --highlight-blue:#2c5a85;
      --accent-green:#38c7aa;
      --shadow:rgba(0,0,0,.1);
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Roboto',sans-serif;}
    body{display:flex;background:var(--light-gray);color:var(--text-dark);height:100vh;overflow:hidden;}

    /* Sidebar */
    .sidebar{
      width:280px;background:var(--dark-blue);color:#fff;padding:30px 20px;
      display:flex;flex-direction:column;align-items:center;box-shadow:2px 0 10px var(--shadow);
    }
    .logo{width:120px;height:120px;background:#fff;display:flex;align-items:center;justify-content:center;margin-bottom:20px;border-radius:8px;}
    .logo img{max-width:100%;max-height:100%;object-fit:contain;}

    .nav-links{list-style:none;width:100%;}
    .nav-links li{margin:12px 0;}
    .nav-links a{
      color:#fff;text-decoration:none;font-size:18px;padding:12px 14px;display:block;border-radius:8px;text-align:left;
      transition:background .25s, transform .06s;
    }
    .nav-links a:hover{background:var(--highlight-blue);}
    .nav-links a.active{background:#17405f;outline:2px solid rgba(255,255,255,.12);}

    /* Main */
    .main-content{flex:1;padding:20px;display:flex;flex-direction:column;gap:20px;overflow:auto;}
    .page-title{font-size:22px;font-weight:700;margin-bottom:4px;}
    .page-sub{color:#666;margin-bottom:8px;}

    /* Charts */
    .charts-container{display:flex;gap:20px;min-height:340px;}
    .chart-box{
      flex:1;background:var(--card-bg);border-radius:8px;padding:20px;
      box-shadow:0 4px 10px var(--shadow);display:flex;flex-direction:column;
    }
    .chart-box h3{font-size:18px;margin-bottom:12px;}

    /* Metrics */
    .metrics-panel{
      display:grid;grid-template-columns:repeat(4,1fr);gap:16px;
      background:#fff;border-radius:8px;box-shadow:0 4px 10px var(--shadow);padding:16px;
    }
    .metric-card{
      background:var(--card-bg);border-radius:8px;padding:15px;text-align:center;
      box-shadow:0 4px 8px var(--shadow);transition:transform .2s;
    }
    .metric-card:hover{transform:translateY(-3px);}
    .metric-icon i{font-size:28px;color:var(--highlight-blue);}
    .metric-info h4{font-size:16px;font-weight:600;margin-top:10px;}
    .metric-info p{font-size:18px;font-weight:700;color:#444;margin-top:2px;}

    @media (max-width:1024px){
      .metrics-panel{grid-template-columns:repeat(2,1fr);}
    }
    @media (max-width:768px){
      body{flex-direction:column;}
      .sidebar{width:100%;height:auto;flex-direction:row;justify-content:flex-start;gap:14px;padding:12px 16px;position:sticky;top:0;z-index:10;}
      .logo{width:44px;height:44px;margin:0;border-radius:6px;}
      .nav-links{display:flex;gap:6px;overflow:auto;}
      .nav-links li{margin:0;}
      .nav-links a{font-size:14px;padding:8px 10px;white-space:nowrap;}
      .charts-container{flex-direction:column;}
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <nav class="sidebar" aria-label="Main">
    <div class="logo">
      <img src="/images/wmLogo.png" alt="WestMark Logistics Logo"/>
    </div>
    <ul class="nav-links">
      <li><a href="/"                       >Dashboard</a></li>
      <li><a href="/order"                  >Enter Orders</a></li>
      <li><a href="/alloc-single"           >Allocate Orders</a></li>
      <li><a href="/seeDatabaseData"        >Integration Viewer</a></li>
      <li><a href="/reports"                >Reports</a></li>
      <li><a href="/kpi.html">KPI Dashboard</a></li>


      <!-- NEW: KPI Dashboard link -->
      <li><a href="/scan-print.html"               >Scan and Print</a></li>

      <li><a href="/account"                >Account</a></li>
      <li><a href="/help"                   >Help</a></li>
    </ul>
  </nav>

  <!-- Main content -->
  <main class="main-content">
    <header>
      <div class="page-title">Warehouse Overview</div>
      <div class="page-sub">Key trends & recent activity</div>
    </header>

    <section class="charts-container" aria-label="Charts">
      <div class="chart-box">
        <h3>Shipment Trends</h3>
        <canvas id="lineChart" aria-label="Shipments by month" role="img"></canvas>
      </div>
      <div class="chart-box">
        <h3>Order Fulfillment</h3>
        <canvas id="barChart" aria-label="Orders fulfilled by warehouse" role="img"></canvas>
      </div>
    </section>

    <section class="metrics-panel" aria-label="Quick metrics">
      <div class="metric-card">
        <div class="metric-icon"><i class="fas fa-truck"></i></div>
        <div class="metric-info"><h4>Picking</h4><p>Coming soon!</p></div>
      </div>
      <div class="metric-card">
        <div class="metric-icon"><i class="fas fa-calendar-alt"></i></div>
        <div class="metric-info"><h4>Calendar</h4><p>Coming soon!</p></div>
      </div>
      <div class="metric-card">
        <div class="metric-icon"><i class="fas fa-exclamation-circle"></i></div>
        <div class="metric-info"><h4>Staging Locations</h4><p>Coming soon!</p></div>
      </div>
      <div class="metric-card">
        <div class="metric-icon"><i class="fas fa-box"></i></div>
        <div class="metric-info"><h4>Units of Measure</h4><p>Coming soon!</p></div>
      </div>
    </section>
  </main>

  <script>
    // Highlight active nav item based on current path
    (function highlightActive(){
      const path = location.pathname.replace(/\/+$/, '') || '/';
      document.querySelectorAll('.nav-links a').forEach(a=>{
        const href = a.getAttribute('href');
        // Treat "/" and "" equivalently; support .html pages
        const normalized = href === '/' ? '/' : href.replace(/\/+$/, '');
        if (normalized === path || (normalized.endsWith('.html') && normalized === path + '.html')) {
          a.classList.add('active');
        }
      });
    })();

    // Shipment Trends Line Chart
    const lineCtx = document.getElementById('lineChart').getContext('2d');
    new Chart(lineCtx, {
      type: 'line',
      data: {
        labels: ['Jan','Feb','Mar','Apr','May'],
        datasets: [{
          label: 'Shipments',
          data: [120,150,180,220,250],
          borderColor: '#2c5a85',
          backgroundColor: 'rgba(44,90,133,0.08)',
          borderWidth: 2,
          pointRadius: 3,
          tension: 0.3,
          fill: true
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: true } },
        scales: { y: { beginAtZero: true } }
      }
    });

    // Order Fulfillment Bar Chart
    const barCtx = document.getElementById('barChart').getContext('2d');
    new Chart(barCtx, {
      type: 'bar',
      data: {
        labels: ['Warehouse A','Warehouse B','Warehouse C'],
        datasets: [{
          label: 'Orders Fulfilled',
          data: [400,300,450],
          backgroundColor: ['#1c3d57','#38c7aa','#2c5a85']
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: true } },
        scales: { y: { beginAtZero: true } }
      }
    });
  </script>
</body>
</html>
